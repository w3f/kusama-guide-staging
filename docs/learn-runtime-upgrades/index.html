<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="search" type="application/opensearchdescription+xml" title="Guide" href="/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Muli&display=swap">
<script src="https://buttons.github.io/buttons.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.js"></script>
<script src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js" onload="addBackToTop()" defer="defer"></script>
<script src="https://apisa.web3.foundation/latest.js" async defer="defer"></script>
<script src="/js/custom.js"></script>
<script src="/js/clipboard.min.js"></script>
<script src="/js/copycode.js"></script><title data-react-helmet="true">Runtime Upgrades · Guide</title><meta data-react-helmet="true" property="og:url" content="https://guide.kusama.network/docs/learn-runtime-upgrades"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Runtime Upgrades · Guide"><meta data-react-helmet="true" name="description" content="Runtime upgrades allow Polkadot to change the logic of the chain, without the need for a hard fork."><meta data-react-helmet="true" property="og:description" content="Runtime upgrades allow Polkadot to change the logic of the chain, without the need for a hard fork."><link data-react-helmet="true" rel="shortcut icon" href="/img/Kusama_Canary_white.png"><link data-react-helmet="true" rel="canonical" href="https://guide.kusama.network/docs/learn-runtime-upgrades"><link data-react-helmet="true" rel="alternate" href="https://guide.kusama.network/docs/learn-runtime-upgrades" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://guide.kusama.network/zh-CN/docs/learn-runtime-upgrades" hreflang="zh-CN"><link data-react-helmet="true" rel="alternate" href="https://guide.kusama.network/docs/learn-runtime-upgrades" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.1b7ff54c.css">
<link rel="preload" href="/assets/js/runtime~main.68d1d4a4.js" as="script">
<link rel="preload" href="/assets/js/main.edcad652.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><div class="announcementBar_3WsW" style="background-color:#e6007a" role="banner"><div class="announcementBarContent_3EUC"><a id="support_us" href="/docs/contributing" title="Contribute to this wiki" data-ribbon="Contribute to this wiki">
          Contribute to this wiki
        </a></div></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/Kusama_logotype_white_large.png" alt="Guide" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/Kusama_logotype_white_large.png" alt="Guide" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Guide</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/kusama-getting-started">Get Started</a><a class="navbar__item navbar__link" href="/docs/kusama-index">Docs</a><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__item navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/docs/learn-runtime-upgrades" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">English</a></li><li><a href="/zh-CN/docs/learn-runtime-upgrades" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">中文</a></li><li><a href="https://crowdin.com/project/polkadot-wiki" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help us translate</a></li></ul></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><main class="docMainContainer_3ufF docMainContainerEnhanced_3NYZ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Runtime Upgrades</h1></header><p>Runtime upgrades allow Polkadot to change the logic of the chain, without the need for a hard fork.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="forking-vs-forkless"></a>Forking vs Forkless<a class="hash-link" href="#forking-vs-forkless" title="Direct link to heading">#</a></h2><p>When we talk about &quot;forking&quot;, we are referring to the act of invoking the <code>fork</code> system call [within
a system], where a process creates a copy of itself. In software development, this is the act of
forking source code from one software package that creates a separate piece of that software.</p><p>You may have come across the terms &quot;hard fork&quot; and &quot;soft fork&quot; before in the blockchain space.</p><p>A <strong>hard fork</strong> sees the blockchain&#x27;s underlying technology (i.e. the protocol) radically changed
and exists as a <em>different</em> or <em>new</em> version. This version is meant to be incompatible with the
original version. This means that both blockchains exist simultaneously. Henceforth, a hard fork
requires node operators to manually upgrade their nodes to the latest runtime version. In a
distributed system, this is a complex process to coordinate and communicate.</p><p>A <strong>soft fork</strong> sees an upgrade or update in the blockchain&#x27;s underlying technology. Unlike a hard
fork, a soft fork is a backward-compatible upgrade; the upgraded nodes can communicate with the
non-upgraded ones.</p><p>Upgrading conventional blockchains often requires forking the network, which is time-consuming and
can break up communities. Something that conventional networks also lack is the ability to perform
thought-through governance that would allow for effective decision-making and signalling for runtime
upgrades.</p><p>Polkadot sees itself as a next-generation blockchain because it addresses these obstacles in a
meaningful way - revolutionizing the runtime upgrading process by enabling blockchains to upgrade
themselves without the need to fork the chain. These forkless upgrades are enacted through
Polkadot’s transparent <a href="/docs/learn-governance">on-chain governance</a> system.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="new-client-release"></a>New <a href="https://github.com/paritytech/polkadot/releases" target="_blank" rel="noopener noreferrer">Client Release</a><a class="hash-link" href="#new-client-release" title="Direct link to heading">#</a></h2><p>The existing runtime logic is followed to update the <a href="/docs/learn-wasm">Wasm</a> runtime stored on the
blockchain to a new version. The upgrade is then included in the blockchain itself, meaning that all
the nodes on the network execute it. Generally, there is no need to upgrade your nodes manually
before the runtime upgrade as they will automatically start to follow the new logic of the chain.
Nodes only need to be updated when the runtime requires new host functions or there is a change in
networking or consensus.</p><p>Transactions constructed for a given runtime version will not work on later versions. Therefore, a
transaction constructed based on a runtime version will not be valid in later runtime versions. If
you don&#x27;t think you can submit a transaction before the upgrade, it is better to wait and construct
it after the upgrade takes place.</p><p>Although upgrading your nodes is generally not necessary to follow an upgrade, we recommend
following the Polkadot releases and upgrading promptly, especially for high priority or critical
releases.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="for-infrastructure-providers"></a>For Infrastructure Providers<a class="hash-link" href="#for-infrastructure-providers" title="Direct link to heading">#</a></h3><p>Infrastructure services including but not limited to the following:</p><ul><li><a href="/docs/maintain-guides-how-to-upgrade">Validators</a></li><li>API services</li><li>Node-as-a-Service (NaaS)</li><li>General infrastructure management (e.g. block explorers, exchanges)</li></ul><p>For validators, keeping in sync with the network is key. At times, upgrades will require validators
to upgrade within a specific time frame to ensure continued sync with their node. It is essential to
check the release notes, starting with the upgrade priority and acting accordingly.</p><p>For general infrastructure providers, aside from following the Polkadot releases and upgrading in a
timely manner, somethings to keep an eye out on is updating your parsing logic and acknowledging
changes to the available RPC clients, such as the
<a href="https://github.com/paritytech/substrate-api-sidecar" target="_blank" rel="noopener noreferrer">Substrate API Sidecar</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="for-nominators"></a>For <a href="/docs/maintain-guides-how-to-nominate-polkadot">Nominators</a><a class="hash-link" href="#for-nominators" title="Direct link to heading">#</a></h3><p>Runtime upgrades don&#x27;t require any actions by a nominator, though, it is always encouraged to keep
up-to-date and participate with the latest runtime upgrade motions and releases, while keeping an
eye on how the nodes on the network are reacting to a new upgrade.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="for-wallets"></a>For <a href="/docs/build-wallets">Wallets</a><a class="hash-link" href="#for-wallets" title="Direct link to heading">#</a></h3><p>Wallets should look out for updates to the transaction lifecycle, such as tx broadcasting. An
example would be constructing a transaction with a new spec, &quot;n&quot;, but broadcasting it with a spec
&quot; &gt; n &quot; - transactions could be propagated, or even rejected by peers on the network.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="monitoring-changes"></a>Monitoring Changes<a class="hash-link" href="#monitoring-changes" title="Direct link to heading">#</a></h2><p>Using a Polkadot blockchain explorer, you can monitor the chain for on-chain changes. The following
steps relate to <a href="https://polkadot.subscan.io/" target="_blank" rel="noopener noreferrer">subscan</a>.</p><blockquote><p>In general, an action has two components: the module (such as <code>democracy</code>) and the event (such as
<code>Started</code>).</p></blockquote><p>Monitor the chain for:</p><ol><li><p><code>democracy(Started)</code> events and log <code>index</code> and <code>blockNumber</code>. Get
<code>pallets/democracy/storage/ReferendumInfoOf?key1=index&amp;at=blockNumber</code> from <code>Sidecar</code> to get the
referendum info. It should have a status of <code>Ongoing</code>. Find the ending block number (<code>end</code>) and
the enactment <code>delay</code> (delay), where the execution block number will be <code>end + delay</code>.</p></li><li><p><code>democracy(Passed)</code>, <code>democracy(NotPassed)</code>, or, <code>democracy(Cancelled)</code> events citing the index.
If <code>Passed</code>, you need to look at the <code>scheduler(Scheduled)</code> event in the same block for the
enactment block.</p></li><li><p><code>democracy(PreimageNoted)</code> events with the same hash as the <code>ReferendumInfoOf(index)</code> item. This
may be up to the last block before execution, but it will not work if this is missing.</p></li><li><p><code>democracy(Executed)</code> events for actual execution. In the case of a runtime upgrade, there will
also be a <code>system(CodeUpdated)</code> event.</p></li></ol></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/w3f/polkadot-wiki/edit/master/docs/learn-runtime-upgrades.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF">Last updated on <b><time datetime="2021-07-30T10:43:50.000Z">7/30/2021</time></b> by <b>Jake Hemmerle</b></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#forking-vs-forkless" class="table-of-contents__link">Forking vs Forkless</a></li><li><a href="#new-client-release" class="table-of-contents__link">New Client Release</a><ul><li><a href="#for-infrastructure-providers" class="table-of-contents__link">For Infrastructure Providers</a></li><li><a href="#for-nominators" class="table-of-contents__link">For Nominators</a></li><li><a href="#for-wallets" class="table-of-contents__link">For Wallets</a></li></ul></li><li><a href="#monitoring-changes" class="table-of-contents__link">Monitoring Changes</a></li></ul></div></div></div></div></main></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/Kusama_Canary_white.png" alt="Guide" width="66" height="58"></a><div><p class="homepage-font">Kusama is an experimental <br>community research and<br> development network.</p><a href="/docs/kusama-index" target="_blank" class="homepage-font">Docs</a><a href="https://kusama.network/" target="_blank" class="homepage-font">Kusama Network</a><a href="https://twitter.com/kusamanetwork" target="_blank" rel="noreferrer noopener" class="homepage-font">Twitter</a><a href="https://matrix.to/#/!HfRYKXBoPmDBCAWUEJ:polkadot.builders" target="_blank" rel="noreferrer noopener" class="homepage-font">Kusama Watercooler (Element Chat)</a></div><a href="/kusama-wiki.zip" target="_blank" rel="noreferrer noopener">Download this Guide as PDF</a></section><section class="row"><div class="copyright homepage-font">© 2021 Web3 Foundation</div><a class="item homepage-font" href="https://polkadot.network/privacy/">Privacy Policy</a></section></footer></div>
<script src="/assets/js/runtime~main.68d1d4a4.js"></script>
<script src="/assets/js/main.edcad652.js"></script>
</body>
</html>